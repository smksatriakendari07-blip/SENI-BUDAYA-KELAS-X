<script>
const kunciPanitia = "SMK2024"; // Ganti sandi panitia

// Sembunyikan input & tombol di awal
document.getElementById("kunci").style.display = "none";
document.querySelector("#lockScreen button").style.display = "none";

let tapCount = 0;
let tapTimer = null;

// Sudut rahasia: tekan 5 kali untuk memunculkan kolom sandi
document.getElementById("secretArea").addEventListener("click", function () {
    tapCount++;

    if (tapTimer) clearTimeout(tapTimer);

    tapTimer = setTimeout(() => {
        tapCount = 0;
    }, 1000);

    if (tapCount >= 5) {
        document.getElementById("kunci").style.display = "block";
        document.querySelector("#lockScreen button").style.display = "inline-block";
        tapCount = 0;
    }
});

// Jika halaman dibuka ulang & terkunci â†’ tampilkan layar terkunci
if (localStorage.getItem("locked") === "true") {
    munculKunci();
}

// Deteksi keluar halaman
document.addEventListener("visibilitychange", function () {
    if (document.hidden) {
        localStorage.setItem("locked", "true");
        munculKunci();
    }
});

// Munculkan layar terkunci
function munculKunci() {
    document.getElementById("lockScreen").style.display = "block";
    document.body.style.overflow = "hidden";
}

// Tombol buka ujian (setelah sandi benar)
function bukaUjian() {
    const input = document.getElementById("kunci").value;

    if (input === kunciPanitia) {
        localStorage.removeItem("locked");
        document.getElementById("lockScreen").style.display = "none";
        document.body.style.overflow = "auto";
    } else {
        alert("Kunci salah!");
    }
}
</script>
